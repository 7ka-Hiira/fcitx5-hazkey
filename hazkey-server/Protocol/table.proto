syntax = "proto3";

package hazkey.config.table;

message InputTable {
    message InputTableEntry {
        string input = 1;
        string output = 2;
    }

    message InputTableMeta {
        string name = 1;
        bool is_default = 2;
        string filename = 3;
    }

    repeated InputTableMeta meta = 1;
    repeated InputTableEntry input_table = 2;
}

message EditOperation {
    message Rename {
        string name_old = 1;
        bool is_default = 2;
        string name_new = 3;
    }

    message Delete {
        string name = 1;
        bool is_default = 2;
    }

    message Create {
        string new_name = 1;
    }

    message Dupicate {
        string source_name = 1;
        bool source_is_default = 2;
        string new_name = 3;
    }

    message Update {
        InputTable InputTable = 1;
    }

    oneof operation {
        Rename rename = 1;
        Delete delete = 2;
        Create create = 3;
        Dupicate dupicate = 4;
        Update update = 5;
    }
}
